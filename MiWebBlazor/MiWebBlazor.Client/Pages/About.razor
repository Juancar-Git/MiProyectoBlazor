@page "/about"
@inject HttpClient Http
@using MiWebBlazor.Shared;
@using System.Globalization

<!-- About Section -->
@if (myLocation == null)
{
    <section id="hero" class="hero section">
        <p>Loading...</p>
    </section>
}
else
{
    <section id="about" class="about section">
        <!-- Section Title -->
        <div class="container section-title">
            <h2>About</h2>
            <p>Necessitatibus eius consequatur ex aliquid fuga eum quidem sint consectetur velit</p>
        </div><!-- End Section Title -->
        <div class="container">
            <div class="row gy-4 justify-content-center">
                <div class="col-lg-4">
                    <img src="assets/img/profile-img.jpg" class="img-fluid" alt="">
                </div>
                <div class="col-lg-8 content">
                    <h2>@myResume.Profession</h2>
                    <p class="fst-italic py-3">
                        @myResume.Sumary
                    </p>
                    <div class="row">
                        <div class="col-lg-6">
                            <ul>
                                <li><i class="bi bi-chevron-right"></i> <strong>Birthday:</strong> <span>@myPerson.BirthdayFormated()</span></li>
                                <li><i class="bi bi-chevron-right"></i> <strong>Website:</strong> <span>@myPerson.Website</span></li>
                                <li><i class="bi bi-chevron-right"></i> <strong>Phone:</strong> <span>@myPerson.Phone</span></li>
                                <li><i class="bi bi-chevron-right"></i> <strong>City:</strong> <span>@myLocation.City, @myLocation.Country</span></li>
                            </ul>
                        </div>
                        <div class="col-lg-6">
                            <ul>
                                <li><i class="bi bi-chevron-right"></i> <strong>Age:</strong> <span>@myPerson.MyAge()</span></li>
                                <li><i class="bi bi-chevron-right"></i> <strong>Degree:</strong> <span>@myResume.Degree</span></li>
                                <li><i class="bi bi-chevron-right"></i> <strong>Email:</strong> <span>@myPerson.Email</span></li>
                                <li><i class="bi bi-chevron-right"></i> <strong>Freelance:</strong> <span>@myPerson.Freelance()</span></li>
                            </ul>
                        </div>
                    </div>
                    <p class="py-3">
                        Officiis eligendi itaque labore et dolorum mollitia officiis optio vero. Quisquam sunt adipisci omnis et ut. Nulla accusantium dolor incidunt officia tempore. Et eius omnis.
                        Cupiditate ut dicta maxime officiis quidem quia. Sed et consectetur qui quia repellendus itaque neque.
                    </p>
                </div>
            </div>

        </div>
    </section> <!-- /About Section -->
}


@code {
    int IdResume = 2;
    Resume myResume;
    Person myPerson;
    Location myLocation;
    protected override async Task OnInitializedAsync()
    {
        myResume = await Http.GetFromJsonAsync<Resume>($"api/Resume/{IdResume}") ?? new Resume();
        myPerson = await Http.GetFromJsonAsync<Person>($"api/Person/{IdResume}") ?? new Person();
        myLocation = await Http.GetFromJsonAsync<Location>($"api/Location/{myPerson.LocationId}") ?? new Location();
    }
}